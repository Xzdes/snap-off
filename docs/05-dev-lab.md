# Документация `snap-off`: 5. Dev Lab: Мастерская разработчика

Разработка UI-компонентов в большом приложении может быть медленной и утомительной. Чтобы увидеть изменения в компоненте, часто приходится перезапускать сервер, проходить аутентификацию, переходить на нужную страницу...

**Dev Lab** решает эту проблему. Это изолированная среда для разработки, тестирования и отладки ваших `snap-off` компонентов, которая позволяет вам работать с ними напрямую, без необходимости запускать все приложение.

## 5.1. Запуск Dev Lab

Мастерская поставляется вместе с ядром `snap-off`. Для ее запуска выполните в терминале:

```bash
node src/lab/lab-server.js
```

После этого откройте в браузере `http://localhost:4000`.

## 5.2. Основные возможности

### Галерея компонентов

На главной странице Dev Lab отображается список всех компонентов, найденных в директории `src/components/`. Это позволяет вам одним кликом перейти на страницу, посвященную конкретному компоненту.

### Изолированный рендеринг

Когда вы переходите на страницу компонента (например, `http://localhost:4000/component/counter`), Dev Lab рендерит этот компонент в изоляции. Он использует тот же движок `snap.render()`, что и ваше основное приложение, но в специальном тестовом окружении.

Это позволяет вам мгновенно увидеть, как выглядит компонент, и взаимодействовать с ним, проверяя работу его событий.

### "Истории" (Stories)

Концепция "историй" заимствована из таких инструментов, как Storybook. История — это просто функция, которая описывает, как отрендерить компонент в определенном состоянии или с определенным набором `props`.

Истории определяются в файле `component.stories.js` внутри папки вашего компонента.

**Пример (`src/components/counter/counter.stories.js`):**
```javascript
// Этот файл экспортирует объект, где каждый ключ - это название истории.
export default {
  // Первая история: "Базовое состояние"
  'Base': {
    // Props, с которыми будет вызван snap.render()
    props: {
      initialValue: 0
    },
    // Описание, которое будет показано в Dev Lab
    description: 'Счетчик в его начальном состоянии.'
  },

  // Вторая история: "Состояние с большим числом"
  'With a large number': {
    props: {
      initialValue: 999
    },
    description: 'Как счетчик выглядит с большим значением.'
  },
  
  // Третья история: "Со стилями из props"
  'With custom styles': {
    props: {
      initialValue: 42,
      // Используем Styling Props для кастомизации
      'background-color': '#fff3cd', // Светло-желтый фон
      'border-left': '5px solid #ffeeba',
      'hover:transform': 'scale(1.02)'
    },
    description: 'Демонстрация работы Styling Props.'
  }
};
```

Dev Lab автоматически найдет этот файл, прочитает все истории и отобразит их на странице компонента. Вы сможете переключаться между ними, чтобы мгновенно увидеть, как компонент реагирует на разные `props`.

### Live Reload (в планах)

В будущих версиях Dev Lab будет автоматически отслеживать изменения в файлах вашего компонента (`.html`, `.js`, `.css`, `.stories.js`) и мгновенно перезагружать его в браузере, обеспечивая бесшовный цикл разработки.

### Матрица вариантов (в планах)

Продвинутая функция для тестирования адаптивности. Dev Lab сможет автоматически рендерить каждую "историю" компонента в нескольких разрешениях экрана (например, 320px, 768px, 1280px), представляя результат в виде наглядной таблицы. Это позволит одним взглядом выявить и исправить все баги верстки.

## 5.3. Зачем это нужно?

-   **Скорость:** Вы работаете только с тем компонентом, который вам нужен, без лишнего "шума" от всего приложения.
-   **Изоляция:** Вы можете быть уверены, что ваш компонент не зависит от глобальных стилей или скриптов приложения. Если он работает в Dev Lab, он будет работать везде.
-   **Наглядность:** "Истории" служат живой документацией для ваших компонентов. Любой член команды может зайти в Dev Lab и увидеть все возможные состояния компонента.
-   **Надежность:** Тестирование компонента с разными `props` и в разных условиях помогает выявить крайние случаи и сделать его более "пуленепробиваемым".

---
**Следующий документ:** [6. Продвинутые техники и рецепты](./06-advanced-techniques.md) (в будущем)